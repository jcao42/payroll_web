<!DOCTYPE html>
<html>
<head>
    <title>Payroll Tracker</title>
</head>
<body>
    <h1>Payroll Tracker</h1>

    <h2>Add Employee</h2>
    <form method="POST" action="/add_employee">
        Name: <input type="text" name="name" required>
        Rate: <input type="number" step="0.01" name="rate" required>
        <button type="submit">Add</button>
    </form>

    <h2>Employees & Balances</h2>
    <table border="1">
        <tr><th>Name</th><th>Rate</th><th>Balance</th><th>Actions</th></tr>
        {% for emp in balances %}
        <tr>
            <td>{{ emp[1] }}</td>
            <td>${{ emp[2] }}</td>
            <td>${{ emp[3]|round(2) }}</td>
            <td>
                <form method="POST" action="/log_hours" style="display:inline;">
                    <input type="hidden" name="employee_id" value="{{ emp[0] }}">
                    Date: <input type="date" name="date" required>
                    Hours: <input type="number" step="0.01" name="hours" required>
                    <button type="submit">Add Hours</button>
                </form>
                <br>
                <form method="POST" action="/make_payment" style="display:inline;">
                    <input type="hidden" name="employee_id" value="{{ emp[0] }}">
                    Date: <input type="date" name="date" required>
                    Amount: <input type="number" step="0.01" name="amount" required>
                    <button type="submit">Pay</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
